{% extends 'accounts/main.html' %}

{% block content %}

{% if messages %}
  <ul class="messages">
      {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
  </ul>
{% endif %}

<br>
<div class="row">
  <!--Sidevar-->
  {% include 'accounts/sidebar.html' %}
  <div class="col-md">
    <div class="card card-body">
      <div class="container">
        <div class="col-lg-12 text-center">
          <h2>Editar requisito de usuario</h2>
        </div>

        <form id="editUserReq" action="{% url 'accounts:editar-requisito-usuario' %}" method="POST">
          {% csrf_token %}
            <div class="form-group row">
              <!--CODIGO-->
              <div class="col-md-2 clearfix">
                <label for="codigoReq" class="control-label text-right required">Codigo</label>
                <input class="form-control" name="codigoReq" id="codigoReq" type="text" value="{{ req.codigo }}" disabled="disabled" required="required" data-validation-required-message="Inidique el codigo del requisito">
                <p class="help-block text-danger"></p>
              </div>
              <!--TITULO-->
              <div class="col-md-6 clearfix">
                <label for="tituloReqEdit" class="control-label text-right required">Titulo</label>
                <input class="form-control" name="tituloReqEdit" id="tituloReqEdit" type="text" value="{{ req.titulo }}" required="required" data-validation-required-message="Inidique el titulo del requisito">
                <p class="help-block text-danger"></p>
              </div>
              <!--PRIORIDAD-->
              <div class="col-md-3 clearfix">
                <label for="prioridadReq" class="control-label text-right required">Prioridad</label>
                <select class="form-control" name="prioridadReq" id="prioridadReq" type="text" required="required" data-validation-required-message="Inidique el tipo del requisito">
                  <p class="help-block text-danger"></p>
                  {% if req.prioridad == "Deseable" %}
                    <option value="Deseable" selected>Deseable</option>
                  {% else %}
                   <option value="Deseable" >Deseable</option>
                  {% endif %}
                  {% if req.prioridad == "No Deseable" %}
                    <option value="No Deseable" selected>No Deseable</option>
                  {% else %}
                    <option value="No Deseable">No Deseable</option>
                  {% endif %}
                  {% if req.prioridad == "Critico" %}
                    <option value="Critico" selected>Critico</option>
                  {% else %}
                    <option value="Critico">Critico</option>
                  {% endif %}
                </select>
                </div>
            </div>
            <div class="form-group row">
                <!--TIPO-->
                <div class="col-md-3 clearfix">
                  <label for="tipoReq" class="control-label text-right required">Tipo</label>
                  <select class="form-control" name="tipoReq" id="tipoReq" type="text" required="required" data-validation-required-message="Inidique el tipo del requisito">
                  <p class="help-block text-danger"></p>
                  {% if req.tipo == "Funcional" %}
                    <option value="Funcional" selected>Funcional</option>
                  {% else %}
                    <option value="Funcional">Funcional</option>
                  {% endif %}
                  {% if req.tipo == "No Funcional" %}
                    <option value="No Funcional" selected>No Funcional</option>
                  {% else %}
                    <option value="No Funcional">No Funcional</option>
                  {% endif %}
                  {% if req.tipo == "Restriccion" %}
                    <option value="Restriccion" selected>Restriccion</option>
                  {% else %}
                    <option value="Restriccion">Restriccion</option>
                  {% endif %}
                  {% if req.tipo == "Calidad" %}
                    <option value="Calidad" selected>Calidad</option>
                  {% else %}
                    <option value="Calidad">Calidad</option>
                  {% endif %}
                  </select>
                </div>
                <!--FUENTE-->
                <div class="col-md-3 clearfix">
                  <label for="fuenteReq" class="control-label text-right required">Fuente</label>
                  <input class="form-control" name="fuenteReq" id="fuenteReq" type="text" value="{{ req.fuente }}" required="required" data-validation-required-message="Inidique la fuente del requisito">
                  <p class="help-block text-danger"></p>
                </div>
                <!--ESTABILIDAD-->
                <div class="col-md-3 clearfix">
                  <label for="estabilidadReq" class="control-label text-right required">Estabilidad</label>
                  <select class="form-control" name="estabilidadReq" id="estabilidadReq" type="text" required="required" data-validation-required-message="Inidique el tipo del requisito">
                  <p class="help-block text-danger"></p>
                  {% if req.estabilidad == "Transable" %}
                    <option value="Transable" selected>Transable</option>
                  {% else %}
                    <option value="Transable">Transable</option>
                  {% endif %}
                  {% if req.estabilidad == "Intransable" %}
                    <option value="Transable" selected>Intransable</option>
                  {% else %}
                    <option value="Intransable">Intransable</option>
                  {% endif %}
                  </select>
                </div>
            </div>
            <div class="form-group row">
              <!--COSTO-->
              <div class="col-md-3 clearfix">
                <label for="costoReq" class="control-label text-right required">Costo</label>
                <input class="form-control" name="costoReq" id="costoReq" type="text" value="{{ req.costo }}" required="required" data-validation-required-message="Inidique el costo del requisito">
                <p class="help-block text-danger"></p>
              </div>
              <!--URGENCIA-->
              <div class="col-md-3 clearfix">
                <label for="urgenciaReq" class="control-label text-right required">Urgencia</label>
                <select class="form-control" name="urgenciaReq" id="urgenciaReq" type="text" required="required" data-validation-required-message="Inidique la urgencia del requisito">
                <p class="help-block text-danger"></p>
                  {% if req.urgencia == "Urgente" %}
                  <option value="Urgente" selected>Urgente</option>
                  {% else %}
                  <option value="Urgente">Urgente</option>
                  {% endif %}
                  {% if req.urgencia == "Normal" %}
                  <option value="Normal" selected>Normal</option>
                  {% else %}
                  <option value="Normal">Normal</option>
                  {% endif %}
                  {% if req.urgencia == "Si se puede" %}
                  <option value="Si se puede" selected>Si se puede</option>
                  {% else %}
                  <option value="Si se puede">Si se puede</option>
                  {% endif %}
                </select>
              </div>
              <!--ESTADO-->
              <div class="col-md-3 clearfix">
                <label for="estadoReq" class="control-label text-right required">Estado</label>
                <select class="form-control" name="estadoReq" id="estadoReq" type="text" required="required" data-validation-required-message="Inidique el estado del requisito">
                <p class="help-block text-danger"></p>
                {% if req.urgencia == "Cumple" %}
                  <option value="Cumple" selected>Cumple</option>
                {% else %}
                  <option value="Cumple">Cumple</option>
                {% endif %}
                {% if req.urgencia == "No Cumple" %}
                  <option value="No Cumple" selected>No Cumple</option>
                {% else %}
                  <option value="No Cumple">No Cumple</option>
                {% endif %}
                </select>
              </div>
            </div>
            <div class="form-group row">
              <!--DESCRIPCION-->
              <div class="col-md-11 clearfix">
                <label for="descripcionReq" class="control-label text-right required">Descripci√≥n</label>
                <input class="form-control" name="descripcionReq" id="descripcionReq" value="{{ req.descripcion }}" required="required" data-validation-required-message="Inidique la descripcion del requisito"></input>
                <p class="help-block text-danger"></p>
              </div>
            </div>
            <div class="form-group row">
              <div class="col-lg-6 text-center">
                <button type="submit" class="btn btn-primary btn-sm btn-block">Editar</button> &nbsp;
              </div>
              <div class="col-lg-6 text-center">
                <a id="cancel" class="btn btn-primary  btn-sm btn-block" href="{% url 'accounts:requisitos-usuario' %}">Cancelar</a>
              </div>
            </div>
        </form>
      </div>
    </div>
  </div>
</div>

{% endblock %}